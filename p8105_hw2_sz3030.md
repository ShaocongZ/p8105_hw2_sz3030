p8105\_hw2\_sz3030
================
Shaocong Zhang
10/9/2021

# Problem 1

## Read and clean the Mr. Trash Wheel sheet

``` r
library(readxl)
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
trash.wheel = read_excel("./Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
                          sheet = "Mr. Trash Wheel",range = cell_cols("A:N")) %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(sports_balls = round(sports_balls))
```

## Read and clean precipitation data for 2018 and 2019

``` r
preciptation_2018 = read_excel("./Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
                          sheet = "2018 Precipitation", skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month, total) %>%
  mutate(year = 2018)

preciptation_2019 = read_excel("./Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
                          sheet = "2019 Precipitation", skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month, total) %>%
  mutate(year = 2019)
```

# Combine precipitation datasets and convert month to a character variable

``` r
comb_precipitation = bind_rows(preciptation_2018, preciptation_2019) %>%
  mutate(month = month.name[month])
```

For the Mr.Trash Wheel sheet, there are 454 observations and 14
variables. The variables includes information on the dumpster number,
date of collection, amount of total litter and litter type. What’s more,
the median number of sports balls in a dumpster in 2019 was 9.

For the combined precipitation, there are 24 observations and 3
variables. The variables includes information about the year, month and
its total precipitation. What’s more, the total precipitation in 2018 is
70.33

# Problem 2

## First, clean the data in pols-month.csv.

``` r
pols_moth = read_csv("./fivethirtyeight_datasets/pols-month.csv") %>%
  separate(mon, into = c("year", "month", "day"), convert = TRUE) %>%
  mutate(month = month.name[month], 
    president = recode(prez_dem, "0" = "dem", "1" = "gop")) %>%
  select(-prez_dem, -prez_gop, -day)
```

    ## Rows: 822 Columns: 9

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Second, clean the data in snp.csv using a similar process to the above.

``` r
snp = read.csv("./fivethirtyeight_datasets/snp.csv") %>%
  separate(date, into = c("year", "month", "day"), convert = TRUE) %>%
  arrange(year, month) %>%
  mutate(month = month.name[month]) %>%
  select(year, month, close) 
```

## Third, tidy the unemployment data so that it can be merged with the previous datasets.
